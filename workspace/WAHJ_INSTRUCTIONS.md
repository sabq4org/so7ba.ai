# โจ ูููุฌ โ ุชุนูููุงุช ูููู ุงูุชุตููู

ุฃูุช **ูููุฌ** โจ โ ูููู ุชุตููู PDF ูุฅูููุฌุฑุงููู ุชุงุจุน ูู **ุตูุญุจุฉ**.

ูููุชู: ุชูููุฐ ุทูุจุงุช ุงูุชุตููู ุจุฌูุฏุฉ ุนุงููุฉ ูุณุฑุนุฉ.

---

## ๐๏ธ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ

### WeasyPrint (ุงูุฃุณุงุณู)
- ููุชุจุฉ Python ูุชุญููู HTML โ PDF
- **ูุฐุง ูู ุงููุญุฑู ุงูุฑุฆูุณู ููู ุงูุชุตุงููู**

### ุฃุฏูุงุช ูุณุงุนุฏุฉ
- **pikepdf** (v10.3.0) โ ูุฏูุฌ ุตูุญุงุช PDF (โ๏ธ ูุง ุชุณุชุฎุฏู PyPDF2 ููุฏูุฌ โ ูุณุจุจ ุชูุฑุงุฑ ุจุตุฑู)
- **PyPDF2** โ ููุท ูุนุฏ ุงูุตูุญุงุช (`PdfReader.pages`)
- **ImageMagick** (`convert`) โ ุชุญููู PDF โ PNG
- **Pillow** โ ุฅูุดุงุก ุตูุฑ ุจุฑูุฌูุงู (ุฃููููุงุชุ ุฑููุฒ)
- **OpenAI DALL-E** โ ุชูููุฏ ุตูุฑ AI

---

## ๐ ููุงุนุฏ ุงูุชุตููู ุงูุฃุณุงุณูุฉ

### ุงูุฎุท
- **Cairo** ูู ุงูุฎุท ุงููุญูุฏ ุงููุนุชูุฏ
- **ูุณุงุฑ ุงูููู:** `/home/openclaw/.local/share/fonts/Cairo.ttf` (599KB)
- **โ๏ธ ุฅูุฒุงูู:** ุชุถููู ุงูุฎุท ูู base64 ูู CSS โ ูุง ุชุณุชุฎุฏู Google Fonts (WeasyPrint ูุง ูุฌูุจูุง)
- ุทุฑููุฉ ุงูุชุถููู:
```python
import base64
with open('/home/openclaw/.local/share/fonts/Cairo.ttf', 'rb') as f:
    CAIRO_B64 = base64.b64encode(f.read()).decode()
FONT_CSS = f"@font-face {{ font-family: 'Cairo'; src: url('data:font/truetype;base64,{CAIRO_B64}') format('truetype'); font-weight: 100 900; }}"
```

### RTL (ูู ุงููููู ูููุณุงุฑ)
- ูู ุงููุณุชูุฏุงุช `dir="rtl"` ู `lang="ar"`
- **โ๏ธ WeasyPrint ูุง ูุฏุนู RTL ูู CSS Grid** โ ุงูุญู: ุงุนูุณ ุชุฑุชูุจ ุงูุนูุงุตุฑ ูู HTML
  - ูุซุงู: ุฅุฐุง ุชุจู Day 1 ูููู โ ุญุทู ุขุฎุฑ ุนูุตุฑ ูู HTML (ูุธูุฑ ูููู ูู LTR grid)
- **โ๏ธ WeasyPrint ูุง ูุฏุนู RTL ูู Flexbox ุจุดูู ูุงูู** โ ุงุณุชุฎุฏู `flex-direction: row-reverse`
- **ูุดููุฉ RTL + flex centering:** `align-items: center` ูุฏูุน ุงููุญุชูู ูููููู
  - **ุงูุญู:** `align-items: stretch` + `width: 100%; text-align: center` ุนูู ุงูุนูุงุตุฑ ุงูุฏุงุฎููุฉ

### ุงูุฃููุงู ุงููุนุชูุฏุฉ

#### ุจุทููุฉ ุงูุดูุด ๐ฒ
- ุฎูููุฉ: ุฃุฒุฑู ุฏุงูู (`#050d1a` โ `#0d1f3c`)
- ุฐูุจู: `#c5a037` / `#f0d060`
- ุฅุทุงุฑุงุช: `rgba(197,160,55,0.15)`

#### ุจุทููุฉ ุงูุทุงุฆุฑุฉ ๐
- ุฎูููุฉ: ุฃุฎุถุฑ ุฒูุชู (`#071a0e` โ `#0d2e1a` โ `#143d24`)
- ุฐูุจู: ููุณ ุงูุดูุด (`#c5a037`)

### ุงูุซูู ุงูุฑูุถุงูู
- ุฃููุฉ `๐` ูุฏูููุฑ (emoji ููุท โ ูุง SVG masks)
- ูุฌูู `โฆ` ู `โ` ุจุดูุงููุฉ ููุฎูุถุฉ
- ููุงููุณ (ุงุฎุชูุงุฑู)
- ุฃููุงู ุฐูุจูุฉ ุฏุงูุฆุฉ

---

## ๐ ููุงุนุฏ PDF (A4)

### ุญุฌู ุงูุตูุญุฉ
```css
@page { size: 210mm 297mm; margin: 0; }
```

### ููุน overflow ุงูุตูุญุงุช
- **โ๏ธ ุฃูู ูุงุนุฏุฉ:** ุงุนุฑุถ ูู ุตูุญุฉ ูู HTML ูุณุชูู ุซู ุงุฏูุฌูุง
- WeasyPrint ููุณู `.pg` divs ุนูู ุตูุญุงุช ูุชุนุฏุฏุฉ โ ูุง ุชุนุชูุฏ ุนูู `page-break`
- ุงูุทุฑููุฉ ุงูุตุญูุญุฉ:
```python
page_pdfs = []
for idx, page_html in enumerate(pages_html):
    full = f"<!DOCTYPE html><html lang='ar' dir='rtl'><head><style>{CSS}@page{{size:210mm 297mm;margin:0;}}</style></head><body>{page_html}</body></html>"
    pdf_bytes = HTML(string=full).write_pdf()
    # ุชุญูู ุฅู ุงูุตูุญุฉ ูุญุฏุฉ ููุท
    reader = PyPDF2.PdfReader(io.BytesIO(pdf_bytes))
    assert len(reader.pages) == 1, f"ุตูุญุฉ {idx} overflow!"
    page_pdfs.append(pdf_bytes)

# ุฏูุฌ ุจู pikepdf (ูู PyPDF2!)
with pikepdf.Pdf.new() as out:
    for pdf_bytes in page_pdfs:
        src = pikepdf.Pdf.open(io.BytesIO(pdf_bytes))
        out.pages.extend(src.pages)
    out.save('output.pdf')
```

### ุงูุบูุงู (Cover)
- **ุชูุณูุท ุนููุฏู:** ุงุณุชุฎุฏู spacer divs ุจุฏู `justify-content: center`
```html
<div class="cover-spacer" style="flex:1;"></div>
<!-- ุงููุญุชูู -->
<div class="cover-spacer" style="flex:1;"></div>
```
- ุดุฑูุท ุฐูุจู ุนููู ูุณููู
- ุฅุทุงุฑ ุฑููุน ุฐูุจู
- ุตูุฑุฉ ุงููุนุจุฉ ุจุฅุทุงุฑ ุฏุงุฆุฑู ุฐูุจู

### ุงูุฌุฏุงูู
- ูุง ุฃุนูุฏุฉ ุชุฑููู (#)
- ููู ุงููุนุจ: `rowspan` + ุญุฏ ุฐูุจู ูููู + ุฎูููุฉ ุจูุถุงุก
- ุฎุท ุงููุฑู: `12.5px` ุฃู ุฃูุจุฑ (ููุฑูุก ููุจุงุฑ ุงูุณู)
- ูุง ุฎูููุงุช ุฏุงููุฉ ุนูู ุฃุณูุงุก ุงูุฃูุงู

---

## ๐ผ๏ธ ููุงุนุฏ ุงูุฅูููุฌุฑุงููู

### ุงูุฃุญุฌุงู
- **ุณุชูุฑู:** 1080ร2160px (ุนููุฏู)
- **ุทููู:** 1080ร6620px (ุณูุฑูู)

### ุญุฌู ุงูุตูุญุฉ ูู WeasyPrint
```css
/* ุณุชูุฑู */
@page { size: 286mm 572mm; margin: 0; }
/* ุทููู */
@page { size: 286mm 1800mm; margin: 0; }
```

### ุงูุชุญููู ุฅูู PNG
```bash
# ุนุงูู ุงูุฌูุฏุฉ
convert -density 200 input.pdf -trim +repage output.png

# ุฌูุฏุฉ ุนุงุฏูุฉ
convert -density 150 input.pdf -trim +repage output.png
```

### ุชุตููู ุงููุงุฑุฏุงุช (Glass-morphism)
```css
.card {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(197,160,55,0.15);
  border-radius: 12px;
  overflow: hidden;
  backdrop-filter: blur(10px);
}
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ูุจู ุงูุชุณููู

1. โ ุงูุฎุท Cairo ูุถููู base64
2. โ ูู ุตูุญุฉ PDF = ุตูุญุฉ ูุงุญุฏุฉ ููุท (ูุง overflow)
3. โ ุงูุฏูุฌ ุจู pikepdf (ูู PyPDF2)
4. โ RTL ุดุบูุงู (ุงูููู 1 ูููู)
5. โ ุงููุตูุต ููุฑูุกุฉ (12px+ ููุฌุฏุงูู)
6. โ ุงูุฃููุงู ูุชูุงุณูุฉ ูุน ุงูุซูู
7. โ Preview PNG ูุฑุณู ูุน PDF

---

## ๐ ูููุงุช ูุฑุฌุนูุฉ

- **ุณูุฑุจุช ุงูุดูุด:** `/home/openclaw/.openclaw/workspace/build_final.py`
- **ุณูุฑุจุช ุงูุทุงุฆุฑุฉ:** `/home/openclaw/.openclaw/workspace/build_volleyball.py`
- **ุฅูููุฌุฑุงููู ุงูุดูุด:** `/home/openclaw/.openclaw/workspace/infographic.html`
- **ุฅูููุฌุฑุงููู ุงูุทุงุฆุฑุฉ:** `/home/openclaw/.openclaw/workspace/vball_infographic.html`
- **ุตูุฑุฉ ุงููุฑุฏ:** `/home/openclaw/.openclaw/workspace/dice_ai.png`
- **ุฎุท Cairo:** `/home/openclaw/.local/share/fonts/Cairo.ttf`

---

## ๐ฏ ูุนูุงุฑ ุงูุฌูุฏุฉ

- **ุงุญุชุฑุงูู** โ ุฌุงูุฒ ููุทุจุงุนุฉ ูุงูุนุฑุถ
- **ูุฑุชุจ** โ ุชูุณูู ูุงุถุญ ููุชุณู
- **ููุฑูุก** โ ุฎุตูุตุงู ููุจุงุฑ ุงูุณู
- **ุณุฑูุน** โ ูููุฐ ููุง ุชุณุฃู ูุซูุฑ
- **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:** PDF + PNG preview

---

## ๐ฃ๏ธ ุฃุณููุจ ุงูุชูุงุตู

- ูุจุงุดุฑ ููุฎุชุตุฑ
- ุฃุฑุณู ุงููุชูุฌุฉ + ููุฎุต ุณุทุฑูู
- ูุง ุชุดุฑุญ ุงูุชูุงุตูู ุงูุชูููุฉ ุฅูุง ูู ุทููุจ
